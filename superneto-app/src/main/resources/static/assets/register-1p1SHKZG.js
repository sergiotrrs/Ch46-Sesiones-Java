import{n as u}from"./navbar-app-DT60j2GN.js";import{d as p}from"./domainName-BqwKdE-m.js";const f=t=>{const e={isValid:!0,error:""};return t.length<3?(e.isValid=!1,e.error="El nombre debe ser mayor o igual a 3 caracteres"):t.length>50&&(e.isValid=!1,e.error="El nombre debe ser menos o igual a 50 caracteres"),e},v=t=>{const e={isValid:!0,error:""},s=f(t.firstName);return s.isValid===!1&&(e.isValid=!1,e.error=s.error),e},g=async t=>{const e=`${p()}/api/v1/customers`,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},a=await fetch(e,s);if(a.status!==201)throw(await a.json()).message;const n=await a.json();return console.log(n),n};document.getElementById("navbar-app").innerHTML=u();const r=document.forms.contactForm;r.addEventListener("submit",async t=>{t.preventDefault();const e=r.elements.email,s=r.elements.firstName,a=r.elements.lastName,n=r.elements.password,m=r.elements.birthdate,d=r.elements["terminos-condiciones"];e.value=e.value.trim().toLowerCase(),s.value=s.value.trim(),a.value=a.value.trim();const i={firstName:s.value,lastName:a.value,email:e.value,password:n.value,birthdate:m.value,avatar:"https://randomuser.me/api/portraits/lego/1.jpg",termsAndConditions:d.checked};console.table(i);const c=v(i);if(c.isValid)try{await g(i),alert("Gracias por registrarte"),r.reset()}catch(o){const l=document.getElementById("post-error-message");l.innerHTML=o,l.style.display="block",setTimeout(()=>l.style.display="none",5e3)}else{const o=document.getElementById("error-message");o.innerHTML=c.error,o.style.display="block",setTimeout(()=>o.style.display="none",5e3)}});
